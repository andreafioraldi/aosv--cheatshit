1) Flow
-------

PID 0 start_kernel() -> rest_init() ---------> cpu_idle()
                            |
                            v
                     New kernel thread:
                       kernel_init() -> schedule() [before cpu_idle]

/sbin/init started in kernel_init thread. Several subsystems like VFS, devices
management and interrupts must be initialized before calling init.

/sbin/init is in the ramdisk.

2) Init
-------

Init is KISS and spawn several services to do jobs like mount drives and network
setup.

Runlevels:

 - 1 (S) single user
 - 2 multiuser (no networking)
 - 3 full multiuser
 - 4 unused
 - 5 X11
 - 6 reboot
 - 0 halt

Scripts placed in /etc/init.d/
In /etc/rc.d/rc#.d/ there are symlinks to init.d scripts ad custom scripts.
S## start scripts, K## stop scripts.

service <scriptname> <action>

/etc/inittab format: id:runevel:action:process

Systemd is based on the notion of "units" and "dependencies". Scripts are not
in shell language. Runlevels are called targets.

To change runlevel in System V Initi call init 1, in systemd change a symlink
to the desired target.

In systemd targets we have several section. Unit is a section with dependencies
both positive and negative on other units. Service section describe what you
want to do. Install section tells when the unit must be started.





